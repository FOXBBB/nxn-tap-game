<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,
               initial-scale=1,
               maximum-scale=1,
               minimum-scale=1,
               user-scalable=no,
               viewport-fit=cover">


  <title>NXN Game</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="tutorial.css">

</head>



<body>

  <div class="bg"></div>
  <div id="stars"></div>

  <div id="app">
    <div class="game">
      <!-- –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ -->



      <!-- LEADERBOARD -->
      <section id="leaderboard" class="screen hidden">
        <div class="lb-header">
          <div class="lb-title">
            <span class="trophy"></span>
            LEADERBOARD
          </div>
          <div class="lb-sub">TOP 100 PLAYERS</div>
        </div>

        <!-- TOP 1 -->
        <div class="lb-top1">
          <div class="avatar-wrap">
            <img class="avatar" src="">
          </div>

          <div class="info">
            <div class="rank gold">#1</div>
            <div class="name"></div>
          </div>

          <div class="score"></div>
        </div>



        <!-- TOP 2 / 3 -->
        <div class="lb-top23">
          <div class="lb-card silver">
            <img class="avatar" src="">
            <div class="rank">#2</div>
            <div class="name"></div>
            <div class="score"></div>
          </div>

          <div class="lb-card bronze">
            <img class="avatar" src="">
            <div class="rank">#3</div>
            <div class="name"></div>
            <div class="score"></div>
          </div>
        </div>

        <!-- TOP 4‚Äì10 -->
        <div class="lb-list glass"></div>
      </section>




      <!-- TAP (–ù–ï –¢–†–û–ì–ê–ï–ú) -->
      <section id="tap" class="screen">


        <div id="balance">
          <div class="balance-icon">
            <img src="coin.png" alt="NXN">
          </div>

          <div class="balance-center">
            <div class="label">NXN BALANCE</div>
            <div class="balance-row">
              <span class="balance-value">0</span>
            </div>
          </div>
        </div>

       <div class="tap-actions">

  <div id="stake-btn" class="tap-action-card stake">
    <img src="stake.png">
    <span>STAKE</span>
  </div>

  <div id="main-transfer-btn" class="tap-action-card transfer">
    <img src="menu-transfer.png">
    <span>TRANSFER</span>
  </div>

</div>


        <div class="coin-box">
          <img src="coin.png" id="coin">
        </div>

        <div class="glass stat" id="energy">Energy: 100 / 100</div>

  




      </section> <!-- –∫–æ–Ω–µ—Ü TAP -->


      <div id="referral-screen" class="screen hidden">

        <h2>Referral</h2>

        <!-- YOUR CODE -->
        <div class="ref-box">
          <div class="ref-label">Your referral code</div>
          <div class="ref-code" id="ref-code">‚Äî</div>
          <button id="copy-ref">Copy code</button>
        </div>

        <!-- BIND CODE -->
        <div class="ref-box">
          <div class="ref-label">Enter referral code</div>
          <input id="ref-input" placeholder="NXN-XXXXXX" />
          <button id="bind-ref">Bind referral</button>
        </div>

        <!-- STATS -->
        <div class="ref-stats">
          <div>Invited: <b id="ref-invited">0</b></div>
          <div>Active referrals: <b id="ref-active">0</b></div>
          <div>Total earned: <b id="ref-earned">0</b> NXN</div>
        </div>

        <!-- BALANCE -->
        <div class="ref-balance">
          Referral Stack Balance:
          <b id="ref-balance">0</b> NXN
        </div>

        <button id="back-from-ref">Back</button>
      </div>



      <!-- STAKE / REWARD EVENT -->
      <section id="stake-screen" class="screen hidden">


        <!-- HEADER -->
        <div class="stake-status">
          <button id="stake-back" class="stake-back">‚ùÆ</button>

          <div class="stake-title-wrap">
            <div class="stake-phase">REWARD EVENT</div>
            <div id="stake-timer" class="stake-timer">‚è≥ loading...</div>
          </div>
        </div>



        <!-- CARD -->
        <div class="glass stake-card">

          <div class="stake-stats">
            <div class="stake-stat">
              <div class="label">Balance</div>
              <span class="value accent" id="stake-balance">0</span>
            </div>

            <div class="stake-stat">
              <div class="label">Your Stake</div>
              <span class="value" id="stake-current">0</span>
            </div>
          </div>

          <div class="stake-amounts">
            <button data-amount="10000">10K</button>
            <button data-amount="20000">20K</button>
            <button data-amount="50000">50K</button>
            <button data-amount="100000">100K</button>
            <button data-amount="150000">150K</button>
            <button data-amount="200000">200K</button>
            <button data-amount="max" class="max">MAX</button>
          </div>

          <button id="stake-confirm" class="stake-confirm">
            Stake NeXoN
          </button>

          <button id="stake-referral-btn" class="ref-stake-btn">
            Stake Referral NXN
          </button>


          <button id="open-stake-lb" class="stake-btn">
            View Stake Leaderboard
          </button>

          <button id="open-referral" class="ref-open-btn">
            Referral
          </button>




          <div class="stake-warning">
            ‚Ä¢ Staked NXN is consumed<br>
            ‚Ä¢ Rewards are not guaranteed
          </div>

          <!-- CLAIM REWARD -->
          <div id="claim-box" class="glass claim-box hidden">
            <div class="claim-title">üéÅ Claim Reward</div>

            <div class="claim-info">
              Your reward:
              <b id="claim-amount">‚Äî</b>
            </div>

            <input id="claim-wallet" placeholder="Enter TON wallet" class="claim-input" />

            <button id="claim-btn" class="stake-confirm">
              Claim Reward
            </button>
          </div>

        </div>

      </section>



      <!-- STAKE LEADERBOARD (–û–¢–î–ï–õ–¨–ù–´–ô –≠–ö–†–ê–ù) -->
      <section id="stake-leaderboard" class="screen hidden">
        <button id="back-to-stake" class="stake-btn">
          ‚Üê Back to Stake
        </button>

        <h2 class="title blue">STAKE LEADERBOARD</h2>

        <!-- YOU BLOCK (PINNED UNDER TITLE) -->
        <div id="stake-lb-me" class="stake-me hidden">
          <div class="me-label">YOU</div>
          <div class="bar">
            <div class="fill" id="stake-me-bar"></div>
          </div>
          <div class="me-rank" id="stake-me-rank"></div>
        </div>

        <!-- LIST -->
        <div id="stake-lb-list"></div>

      </section>



      <!-- TRANSFER (–ù–ï –¢–†–û–ì–ê–ï–ú) -->
      <section id="transfer" class="screen hidden">
        <div class="title blue">TRANSFER COINS</div>
        <div class="subtitle yellow">BY ID</div>
        <div class="glass stat" id="my-id">Your ID: ...</div>

        <div class="glass transfer-box">
          <label>Recipient ID</label>
          <input id="to-id" placeholder="Telegram ID">

          <label>Amount</label>
          <div class="row">
            <input id="amount" type="number" min="100" step="1" placeholder="NXN amount (min 100, fee 10%)" />

          </div>

          <button id="send">SEND</button>
          <!-- TRANSFER HISTORY -->
          <!-- HISTORY TOGGLE -->
          <div id="history-toggle" class="history-toggle">
            Transfer history ‚¨áÔ∏è
          </div>

          <div id="history" class="glass history-box hidden"></div>

          <p>Enter ID and amount to send coins</p>
        </div>


        <img src="transfer.png" class="transfer-img">
      </section>

      <section id="games" class="screen hidden">
  <div class="title blue">GAMES</div>

  <!-- PvP CARD -->
  <div class="game-card pvp-card" id="open-pvp">
    <div class="game-card-overlay"></div>
    <div class="game-card-content">
      <h3>PvP Arena</h3>
      <p>1 vs 1 ‚Ä¢ 20 seconds ‚Ä¢ Burn 10%</p>
    </div>
  </div>

  <!-- COMING SOON CARD -->
  <div class="game-card coming-card">
    <div class="game-card-overlay blur"></div>
    <div class="game-card-content">
      <h3>Jackpot RUSH</h3>
      <p>COMING SOON</p>
    </div>
  </div>

</section>



      
     <section id="pvp" class="screen hidden">

  <div class="pvp-header">
    <h2 class="pvp-title">PvP ARENA</h2>

  </div>

  <div class="glass pvp-box">

    <div id="pvp-status" class="pvp-status"></div>

<div id="pvp-search-ui" class="hidden">
  <div class="pvp-loader"></div>
  <div class="pvp-searching search-dots">
    Searching Opponent
  </div>
</div>

    <div class="stake-amounts pvp-stakes">
      <button data-pvp="1000">1K</button>
      <button data-pvp="5000">5K</button>
      <button data-pvp="10000">10K</button>
      <button data-pvp="20000">20K</button>
      <button data-pvp="30000">30K</button>
      <button data-pvp="40000">40K</button>
      <button data-pvp="50000">50K</button>
      <button data-pvp="100000">100K</button>
    </div>

    <div id="pvp-search-ui" class="pvp-search hidden">
  <div class="search-spinner"></div>
  <div class="search-text">Searching opponent...</div>
</div>


    <button id="pvp-play" class="pvp-play">
      ENTER ARENA
    </button>

    <div id="pvp-match" class="pvp-match hidden">

<div id="pvp-countdown-overlay" class="pvp-countdown hidden">
  <div id="pvp-countdown-number">3</div>
</div>


      <div class="pvp-hud">

  <div class="pvp-side">
  <div class="pvp-name">YOU</div>
  <div id="pvp-you" class="pvp-score">0</div>
  </div>

  <div class="pvp-vs">VS</div>

  <div class="pvp-side">
  <div id="pvp-opp-name" class="pvp-name">OPPONENT</div>
  <div id="pvp-opp" class="pvp-score">0</div>

  <div class="bar">
      <div class="fill" id="pvp-opp-bar"></div>
    </div>
</div>


</div>


      <div class="pvp-timer" id="pvp-timer">20</div>

      <!-- MONET TAP BUTTON -->
      <div class="pvp-coin-box">
        <img src="coin.png" id="pvp-tap-coin">
      </div>

    </div>

  </div>
  <div id="pvp-result-screen" class="pvp-result hidden">
  <div class="pvp-result-box">
    <div id="pvp-result-text" class="pvp-result-text"></div>
<div id="pvp-final-score" class="pvp-final-score"></div>
    <button id="pvp-again" class="pvp-again-btn">PLAY AGAIN</button>
  </div>
</div>

</section>



      <!-- SHOP (–ù–ï –¢–†–û–ì–ê–ï–ú) -->
      <section id="shop" class="screen hidden">
        <div class="title blue">SHOP</div>
        <div class="subtitle yellow">UPGRADES</div>

        <div class="shop-card glass">
          <div class="shop-info">
            <div class="shop-name">Tap Power +1</div>
            <div class="shop-desc">Permanent upgrade</div>
          </div>
          <button class="shop-buy green" onclick="buyNXN('tap_plus_1')">
            ‚Äî 30 000 NXN
          </button>
        </div>

        <div class="shop-card glass">
          <div class="shop-info">
            <div class="shop-name">Tap Power +3</div>
            <div class="shop-desc">30 days boost</div>
          </div>
          <button class="shop-buy blue" data-item="tap_plus_3" data-price="0.2 TON" onclick="payTON(0.2, 'tap_plus_3')">
            0.2 TON
          </button>

        </div>

        <div class="shop-card glass">
          <div class="shop-info">
            <div class="shop-name">Energy +100</div>
            <div class="shop-desc">Permanent upgrade</div>
          </div>
          <button class="shop-buy green" onclick="buyNXN('energy_plus_100')">
            ‚Äî 50 000 NXN
          </button>
        </div>



        <div class="shop-card glass">
          <div class="shop-info">
            <div class="shop-name">Energy +300</div>
            <div class="shop-desc">30 days boost</div>
          </div>
          <button class="shop-buy blue" data-item="energy_plus_300" data-price="0.5 TON"
            onclick="payTON(0.5, 'energy_plus_300')">
            0.5 TON
          </button>


        </div>

        <div class="shop-card glass">
          <div class="shop-info">
            <div class="shop-name">Autoclicker</div>
            <div class="shop-desc">Clicks while offline (30 days)</div>
          </div>
          <button class="shop-buy purple" data-item="autoclicker_30d" data-price="1 TON"
            onclick="payTON(1, 'autoclicker_30d')">
            1 TON
          </button>

        </div>
      </section>

      <!-- MENU -->
      <div class="menu">
        <div data-go="leaderboard">
          <span><img src="menu-leaderboard.png"></span>
        </div>

        <div data-go="tap">
          <span><img src="menu-tap.png"></span>
        </div>

        <div data-go="games">
          <span><img src="menu-games.png"></span>
        </div>

        <div data-go="shop">
          <span><img src="menu-shop.png"></span>
        </div>
      </div>



      <div id="referral-stake-modal" class="modal hidden">
        <div class="modal-box">

          <h3>Stake Referral NXN</h3>

          <div class="stake-warning">
            Minimum referral stake: <b>10,000 NXN</b><br>
            Referral NXN can be used only for staking
          </div>


          <div class="modal-balance">
            Available:
            <b id="referral-stake-balance">0</b> NXN
          </div>

          <input id="referral-stake-amount" type="number" placeholder="Enter amount" />

          <div class="stake-amounts">
            <button data-ref-amount="10000">10K</button>
            <button data-ref-amount="50000">50K</button>
            <button data-ref-amount="max" class="max">MAX</button>
          </div>


          <button id="confirm-referral-stake">
            Confirm Stake
          </button>

          <button id="cancel-referral-stake" class="secondary">
            Cancel
          </button>

        </div>
      </div>

      <!-- MIN STACK MODAL -->
      <div id="stackModal" class="modal hidden">
        <div class="modal-card">
          <h3 id="modalTitle"></h3>
          <p id="modalText"></p>
          <button class="btn primary" onclick="closeModal()">Got it</button>
        </div>
      </div>

      <!-- TELEGRAM & TON -->
      <script src="https://telegram.org/js/telegram-web-app.js"></script>
      <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

      <!-- MAIN APP LOGIC -->
      <script src="app.js"></script>

      <!-- SUBSCRIBE MODAL -->
      <div id="subscribe-overlay" class="subscribe-overlay hidden">
        <div class="subscribe-modal">
          <h2>üöÄ Join NeXoN Community</h2>

          <p class="subscribe-text">
            To enter the game, you must subscribe to our official channel.
          </p>

          <a href="https://t.me/NXN_NeXoN" target="_blank" class="subscribe-btn primary">
            Subscribe to Channel
          </a>

          <button id="check-subscribe-btn" class="subscribe-btn success">
            Check Subscription
          </button>

          <p class="subscribe-note">
            üéÅ Bonus: <b>3000 NXN</b> (one time only)
          </p>
        </div>
      </div>


      <div id="nxn-tutorial-root"></div>
      <script src="tutorial.js"></script>


</body>

</html>